(function(d){var c=document;d.GoogleMap=function(e){var a=c.createElement("div"),b=new google.maps.LatLng(35.171222,136.929165);a.style.width="100%";a.style.height="100%";e.appendChild(a);new google.maps.Map(a,{zoom:8,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP})}})(this.Metro||(this.Metro={}));
(function(d){var c=document;d.InternetExplorer=function(e){var a=c.createElement("div"),b=c.createElement("iframe");b.style.width="100%";b.style.height="100%";b.style.background="#FFFFFF";b.frameBorder=0;b.src="http://bing.com?cc=jp";e.appendChild(a);a.appendChild(b)}})(this.Metro||(this.Metro={}));
(function(d){function c(a){var b=e.createElement("div");a.className="loading";a.appendChild(b)}var e=document;d.Loading=c;var a=Math.PI/180,b=Math.cos,h=Math.sin;c.prototype.init=function(){var a=e.createElement("canvas");a.id="loading";a.width=100;a.height=100;e.body.appendChild(a);return a.getContext("2d")};c.prototype.draw=function(){var a=this.ctx,b=0;for(a.fillStyle="#FFFFFF";8>b;++b)new this.circle(a)};c.prototype.circle=function(a,b){this.ctx=b;this.num=a;this.draw()};c.prototype.circle.prototype.draw=
function(){function c(a,b,r,f){return 1>(a/=f/2)?-r/2*(Math.sqrt(1-a*a)-1)+b:r/2*(Math.sqrt(1-(a-=2)*a)+1)+b}var e=this,g=this.ctx,d,l,q=new Date|0;l=setInterval(function(){var n=(new Date|0)-q;2E3>n?(d=c(n,90+this.num,360,2E3),console.log(d),g.save(),g.clearRect(0,0,100,100),g.beginPath(),g.arc(40+40*b(d*a),40+40*h(d*a),2,0,2*a,!0),g.fill(),g.restore()):(g.clearRect(0,0,100,100),clearInterval(l),setTimeout(function(){e.draw()},500))},1E3/60)}})(this.Metro||(this.Metro={}));
(function(d){function c(){this.win=e.getElementById("login");this.login=e.querySelector("#login_box form");this.welcome=e.querySelector("#login_box #welcome");this.incorrect=e.querySelector("#login_box #incorrect");this.login.addEventListener("submit",this,!1);this.login.querySelector("input[type=password]").focus();this.incorrect.querySelector("#back_btn").addEventListener("click",this,!1)}var e=document;d.Login=c;c.prototype.handleEvent=function(a){a.preventDefault();var b,c=this;switch(a.type){case "submit":this.login.querySelector("fieldset").style.opacity=
0;this.login.querySelector("input[type=password]").blur();setTimeout(function(){c.welcome.style.opacity=1;c.welcome.style.display="block"},500);a=a.target.querySelector("#passwd");b=e.querySelector("#login_box");"111111"===a.value?setTimeout(function(){b.className="correct";setTimeout(function(){c.win.style.display="none";new d.Main},500)},3E3):setTimeout(function(){c.welcome.style.opacity=0;c.welcome.addEventListener("webkitAnimationEnd",function(){alert("OK")},!1);setTimeout(function(){c.incorrect.style.display=
"block";c.incorrect.style.opacity=1},500)},2E3);break;case "click":this.incorrect.style.opacity=0,setTimeout(function(){c.login.querySelector("fieldset").style.opacity=1;c.incorrect.style.display="none";c.welcome.style.display="none";this.login.querySelector("input[type=password]").focus()},500)}}})(this.Metro||(this.Metro={}));
(function(d){function c(a){var f,j=k.length,b="";for(f=0;f<j;++f)if(k[f]+a in h.body.style){b=k[f]+a;break}return b}function e(a){var f=q,a=a||{},j;for(j in a)a.hasOwnProperty(j)&&(f[j]=a[j]);g=f;this.grid=null;this.wrap=h.getElementById(g.metroID);this.app=h.getElementById("application_boot");this.closeApp=h.getElementById("app_close");this.currentRow=0;this.delayTimer=null;this.__construct()}function a(a){this.grid=[];this.col=this.row=0;this.maxCol=a}function b(a){this.element=a;this.matrix=[];
this.sizeY=this.sizeX=1;this.__construct()}var h=window.document,m=window,k=["WebkitT","MozT","MsT","OT","t"],g,i,l=[],q={metroID:"metro",gridWidth:100,gridHeight:100,gridSpace:10},n="",p=null;d.Main=function(){this.accountName=h.querySelector("#account_name");this.accountName.className="active";this.accountName.addEventListener("mousedown",function(){this.setAttribute("data-pressed",1)});this.accountName.addEventListener("mouseup",function(){this.removeAttribute("data-pressed")});new e({gridWidth:140,
gridHeight:140,gridSpace:8})};e.prototype={constructor:e,__construct:function(){n=c("ransform");this.initGrid();m.addEventListener("resize",this,!1);"orientation"in m&&m.addEventListener("orientationchange",this,!1);this.app.addEventListener("click",function(){this.style.display="none"},!1);this.closeApp.addEventListener("click",this,!1)},handleEvent:function(a){var f=this;switch(a.type){case "resize":case "orientationchange":try{clearTimeout(this.delayTimer)}catch(j){}finally{this.delayTimer=setTimeout(function(){f.initGrid()},
100)}break;case "click":this.app.style.display="none",h.body.style.overflowX="auto"}},initGrid:function(){var a=this.wrap.offsetHeight/g.gridWidth|0;0<this.maxRow&&a===this.maxRow||(this.maxRow=a,this.setElement(),this.wrap.className="active")},setElement:function(){var a=this.wrap.children||this.wrap.childNodes,f=a.length,j=0,o,c=0,e=0,d=0,h=g.gridWidth+g.gridSpace,k=2*h,i=[],m;for(l=[];j<f;++j)if(1===a[j].nodeType&&(o=new b(a[j]),1<o.sizeX?(o.css(e,d),c++,d+=h):0<i.length?(m=i.pop(),o.css(m[0],
m[1])):(o.css(e,d),i.push([e+h,d]),c++,d+=h),c===this.maxRow))e+=k,d=c=0;this.wrap.style.width=e+"px"},execAnimate:function(){function a(f,b,c,e){return 1>(f/=e/2)?c/2*f*f*f+b:c/2*((f-=2)*f*f+2)+b}if(!n){var f=+new Date;i=setInterval(function(){for(var b=l,c=-1,e=+new Date-f,d=!(300>e),g,h;b[++c];)g=d?b[c].dest.top+b[c].defs.top:a(e,b[c].defs.top,b[c].dest.top,300),h=d?b[c].dest.left+b[c].defs.left:a(e,b[c].defs.left,b[c].dest.left,300),b[c].element.style.top=(g|0)+"px",b[c].element.style.left=(h|
0)+"px";d&&clearInterval(i)},1E3/60)}}};a.prototype={constructor:a,createNewLine:function(a){var f=0;for(this.grid[a]=[];f<this.maxCol;++f)this.grid[a][f]=0;this.grid[a][f]=1},put:function(a,f,b){for(var c=a.matrix.length,e=a.matrix[0].length,d=0,g=0,h=!0;d<c;d++){this.grid[d+b]||this.createNewLine(d+b);for(g=0;g<e;g++)0!=this.grid[d+b][g+f]&&(h=!1)}!1===h?(f===this.maxCol?(f=0,++b):++f,this.put(a,f,b)):a.setGrid(this.grid,f,b)}};b.prototype={constructor:b,__construct:function(){for(var a=this.element.getAttribute("data-gridx")|
0||1,b=this.element.getAttribute("data-gridy")|0||1,c=0,d;c<b;++c){this.matrix[c]=[];for(d=0;d<a;++d)this.matrix[c][d]=1}this.sizeX=a;this.sizeY=b;this.element.style.width=a*g.gridWidth+(a-1)*g.gridSpace+"px";this.element.style.height=b*g.gridHeight+(b-1)*g.gridSpace+"px";this.element.addEventListener("click",this,!1)},setGrid:function(a,b,c){for(var d=0,e=0;d<this.matrix.length;++d)for(e=0;e<this.matrix[d].length;++e)a[d+c][e+b]=this.element;this.css(b*(g.gridWidth+g.gridSpace),c*(g.gridHeight+g.gridSpace))},
css:function(a,b){var c,d;c=parseInt(this.element.style.left,10)||0;d=parseInt(this.element.style.top,10)||0;this.element.style.left=a+"px";this.element.style.top=b+"px";l.push({element:this.element,defs:{left:c,top:d},dest:{left:a-c,top:b-d}})},handleEvent:function(a){var b=h.getElementById("application_boot"),c=a.target.getBoundingClientRect(),e=a.target.getAttribute("data-app");e in d&&(e!==p&&null!==b.firstChild&&b.removeChild(b.firstChild),h.body.style.overflowX="hidden",b.setAttribute("data-bg",
a.target.getAttribute("data-bg")),b.setAttribute("data-iconname",a.target.getAttribute("data-iconname")),b.style.display="block",b.style.top=c.top+"px",b.style.left=c.left+"px",b.className="active",b.addEventListener("webkitAnimationEnd",function(){b.style.top="0px";b.style.left="0px";b.className="";e!==p&&(p=e,setTimeout(function(){null!==b.firstChild&&b.removeChild(b.firstChild);new d[p](b)},2E3))},!1))}}})(this.Metro||(this.Metro={}));
(function(d){function c(){this.win=e.getElementById("screen");this.IS=this.win.querySelector("h1");this.MD=this.win.querySelector("h2");this.initPoint=0;this.init();this.setInfo()}var e=document;d.Screen=c;c.prototype.init=function(){this.dayPool="\u65e5\u66dc\u65e5,\u6708\u66dc\u65e5,\u706b\u66dc\u65e5,\u6c34\u66dc\u65e5,\u6728\u66dc\u65e5,\u91d1\u66dc\u65e5,\u571f\u66dc\u65e5".split(",");this.win.addEventListener("mousedown",this,!0);this.win.addEventListener("mouseup",this,!0)};c.prototype.setInfo=
function(){var a=this,b=new Date;this.IS.textContent=[b.getHours(),10>b.getMinutes()?"0"+b.getMinutes():b.getMinutes()].join(":");this.MD.textContent=[b.getMonth()+1,"\u6708",b.getDate(),"\u65e5 ",this.dayPool[b.getDay()]].join("");setTimeout(function(){a.setInfo()},6E4)};c.prototype.handleEvent=function(a){var b=a.clientY;switch(a.type){case "mousedown":this.initPoint=b;e.addEventListener("mousemove",this,!1);break;case "mousemove":this.win.style.top=b-this.initPoint+"px";break;case "mouseup":e.removeEventListener("mousemove",
this),2<this.initPoint-b?this.hideWindow():this.animateReset()}};c.prototype.animateReset=function(a){function b(a,b,c,d){return-c*(a/=d)*(a-2)+b}var c=this,d=this.win,e=new Date|0,g=a?parseInt(d.style.top,10):0,i;i=setInterval(function(){var l=(new Date|0)-e;500>l?d.style.top=(b(l,g,a?30:-30,500)|0)+"px":(clearInterval(i),a||setTimeout(function(){c.animateReset(!0)},50))},1E3/60)};c.prototype.hideWindow=function(){var a=this.win,b=new Date|0,c=parseInt(a.style.top,10),e;e=setInterval(function(){var k=
(new Date|0)-b;if(500>k){var g=a.style,i=k,k=-(c+a.offsetHeight+100)*((i=i/500-1)*i*i+1)+c;g.top=(k|0)+"px"}else clearInterval(e),a.style.display="none",a.style.top="0px",a.removeEventListener("mousedown",this),a.removeEventListener("mouseup",this),new d.Login},1E3/60)}})(this.Metro||(this.Metro={}));
(function(d){function c(){this.win=e.getElementById("startup");this.ctx=this.init();this.draw();this.killTimer()}var e=document;d.Startup=c;c.prototype.killTimer=function(){var a=this.win;setTimeout(function(){e.body.removeChild(a);new d.Screen},1E4)};c.prototype.init=function(){var a=e.createElement("canvas");a.id="fishlogo";a.width=400;a.height=300;this.win.appendChild(a);return a.getContext("2d")};c.prototype.draw=function(){var a=this.ctx,b;a.strokeStyle="#ffffff";a.fillStyle="#69c8f1";a.beginPath();
a.moveTo(150,150);a.lineTo(175,130);a.lineTo(210,138);a.lineTo(300,170);a.lineTo(280,220);a.lineTo(160,220);a.lineTo(130,180);a.closePath();a.fill();b=a.createLinearGradient(150,150,20,280);b.addColorStop(0,"#b83f35");b.addColorStop(1,"#d05430");a.fillStyle=b;a.beginPath();a.moveTo(150,150);a.lineTo(80,175);a.lineTo(20,280);a.lineTo(60,280);a.lineTo(110,240);a.closePath();a.fill();a.fillStyle="#d23b34";a.beginPath();a.moveTo(175,110);a.lineTo(145,110);a.lineTo(130,118);a.lineTo(130,135);a.lineTo(145,
135);a.closePath();a.fill();a.fillStyle="#A61F2C";a.beginPath();a.moveTo(150,150);a.lineTo(175,142);a.lineTo(210,138);a.lineTo(175,110);a.lineTo(150,120);a.lineTo(145,135);a.closePath();a.fill();a.fillStyle="#55bace";a.beginPath();a.moveTo(280,163);a.lineTo(290,162);a.lineTo(336,190);a.lineTo(330,205);a.lineTo(305,218);a.lineTo(260,220);a.closePath();a.fill();a.fillStyle="#A61F2C";a.beginPath();a.moveTo(260,230);a.lineTo(180,260);a.lineTo(143,230);a.lineTo(155,200);a.lineTo(246,215);a.closePath();
a.fill();a.fillStyle="#d23b34";a.beginPath();a.moveTo(285,195);a.lineTo(280,235);a.lineTo(260,230);a.lineTo(240,210);a.lineTo(230,185);a.closePath();a.fill();a.fillStyle="#c7e7e8";a.beginPath();a.arc(308,190,9,0,2*Math.PI,!0);a.fill();a.fillStyle="#050607";a.beginPath();a.arc(308,190,5,0,2*Math.PI,!0);a.fill();a.fillStyle="#ffffff";a.beginPath();a.arc(305,187,2,0,2*Math.PI,!0);a.fill();a.strokeStyle="#ffffff";a.lineWidth=2;a.beginPath();a.arc(365,130,14,0,2*Math.PI,!0);a.stroke();a.beginPath();a.arc(373,
95,21,0,2*Math.PI,!0);a.stroke();a.beginPath();a.arc(330,16,14,0,2*Math.PI,!0);a.stroke()}})(this.Metro||(this.Metro={}));
